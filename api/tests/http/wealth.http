@baseUrl = http://localhost:3000/api/v1
@auth = Bearer {{YOUR_JWT_HERE}}
@communityId = 11111111-1111-1111-1111-111111111111
@shareId = 22222222-2222-2222-2222-222222222222
@requestId = 33333333-3333-3333-3333-333333333333

### List wealth across my communities
GET {{baseUrl}}/wealth
Authorization: {{auth}}

### List wealth for one community
GET {{baseUrl}}/wealth?communityId={{communityId}}&status=active
Authorization: {{auth}}

### Search wealth - basic text (title/description)
GET {{baseUrl}}/wealth/search?q=garden
Authorization: {{auth}}

### Search wealth - scoped to a community with filters
GET {{baseUrl}}/wealth/search?q=drill&communityId={{communityId}}&durationType=timebound&distributionType=unit_based&status=active
Authorization: {{auth}}

### Search wealth - endDate range
GET {{baseUrl}}/wealth/search?q=help&endDateAfter=2025-01-01T00:00:00.000Z&endDateBefore=2025-12-31T23:59:59.999Z
Authorization: {{auth}}

### Search wealth - pagination (page 1, 10 per page)
GET {{baseUrl}}/wealth/search?q=tool&page=1&limit=10
Authorization: {{auth}}

### Search wealth - pagination (page 2, 10 per page)
GET {{baseUrl}}/wealth/search?q=tool&page=2&limit=10
Authorization: {{auth}}

### Create share - request_based, unlimited duration
POST {{baseUrl}}/wealth
Authorization: {{auth}}
Content-Type: application/json

{
  "communityId": "{{communityId}}",
  "itemId": "44444444-4444-4444-4444-444444444444",
  "title": "Lawn mower sharing",
  "description": "Electric mower available on weekends",
  "image": "lawn-mower.jpg",
  "durationType": "unlimited",
  "distributionType": "request_based",
  "automationEnabled": false
}

### Create share - unit_based, timebound
POST {{baseUrl}}/wealth
Authorization: {{auth}}
Content-Type: application/json

{
  "communityId": "{{communityId}}",
  "itemId": "44444444-4444-4444-4444-444444444444",
  "title": "Fresh oranges",
  "description": "I have extra oranges to share",
  "image": "oranges.jpg",
  "durationType": "timebound",
  "endDate": "2030-01-01T00:00:00.000Z",
  "distributionType": "unit_based",
  "unitsAvailable": 10,
  "maxUnitsPerUser": 2,
  "automationEnabled": false
}

### Get share by id
GET {{baseUrl}}/wealth/{{shareId}}
Authorization: {{auth}}

### Update share (owner only)
PUT {{baseUrl}}/wealth/{{shareId}}
Authorization: {{auth}}
Content-Type: application/json

{
  "description": "Updated description",
  "image": "updated-oranges.jpg",
  "maxUnitsPerUser": 3
}

### Cancel share (owner only)
POST {{baseUrl}}/wealth/{{shareId}}/cancel
Authorization: {{auth}}

### Fulfill share (owner only)
POST {{baseUrl}}/wealth/{{shareId}}/fulfill
Authorization: {{auth}}

### Request share (member/admin) - request_based
POST {{baseUrl}}/wealth/{{shareId}}/request
Authorization: {{auth}}
Content-Type: application/json

{
  "message": "Can I borrow it on Saturday?"
}

### Request share (member/admin) - unit_based
POST {{baseUrl}}/wealth/{{shareId}}/request
Authorization: {{auth}}
Content-Type: application/json

{
  "message": "I'd like 2 units",
  "unitsRequested": 2
}

### List requests for share
GET {{baseUrl}}/wealth/{{shareId}}/requests
Authorization: {{auth}}

### List my requests across all communities
GET {{baseUrl}}/wealth/requests/me
Authorization: {{auth}}

### List my requests filtered by statuses (comma-separated)
GET {{baseUrl}}/wealth/requests/me?statuses=pending,accepted
Authorization: {{auth}}

### Accept request (owner only)
POST {{baseUrl}}/wealth/{{shareId}}/requests/{{requestId}}/accept
Authorization: {{auth}}

### Reject request (owner only)
POST {{baseUrl}}/wealth/{{shareId}}/requests/{{requestId}}/reject
Authorization: {{auth}}

### Cancel request (requester or owner)
POST {{baseUrl}}/wealth/{{shareId}}/requests/{{requestId}}/cancel
Authorization: {{auth}}

### Negative - unauthenticated list
GET {{baseUrl}}/wealth

### Negative - invalid payload (timebound without endDate)
POST {{baseUrl}}/wealth
Authorization: {{auth}}
Content-Type: application/json

{
  "communityId": "{{communityId}}",
  "itemId": "44444444-4444-4444-4444-444444444444",
  "title": "Bad share",
  "durationType": "timebound",
  "distributionType": "request_based"
}
### Create comment on share
POST {{baseUrl}}/wealth/{{shareId}}/comments
Authorization: {{auth}}
Content-Type: application/json

{
  "content": "This share looks great! I'd love to borrow it.",
  "parentId": null
}

### Create reply comment on share
POST {{baseUrl}}/wealth/{{shareId}}/comments
Authorization: {{auth}}
Content-Type: application/json

{
  "content": "Thanks! When is it available?",
  "parentId": "{{commentId}}"
}

### List comments for share
GET {{baseUrl}}/wealth/{{shareId}}/comments?limit=10&offset=0
Authorization: {{auth}}

### Update comment (author only)
PUT {{baseUrl}}/wealth/{{shareId}}/comments/{{commentId}}
Authorization: {{auth}}
Content-Type: application/json

{
  "content": "Updated: This share looks even better now!"
}

### Delete comment (author or owner)
DELETE {{baseUrl}}/wealth/{{shareId}}/comments/{{commentId}}
Authorization: {{auth}}

### Negative - create comment without content
POST {{baseUrl}}/wealth/{{shareId}}/comments
Authorization: {{auth}}
Content-Type: application/json

{
  "parentId": "{{commentId}}"
}

### Negative - unauthenticated list comments
GET {{baseUrl}}/wealth/{{shareId}}/comments
